[{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\App.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\check_columns.cjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\check_final_state.cjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\check_profile_cols.cjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\check_profile_cols_v2.cjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\check_tables.cjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\check_user_role.cjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\components\\DashboardLayout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\components\\ErrorBoundary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\components\\LoadingScreen.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\components\\NotificationBell.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\components\\SEO.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\components\\UserManagement.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\components\\dashboard\\AdminPHView.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\components\\dashboard\\AdminUHView.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\components\\dashboard\\CommunityWidget.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\components\\dashboard\\IncidentCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\components\\dashboard\\MiniStatCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\components\\dashboard\\OperationalStatusWidget.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\components\\dashboard\\PropertySelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\components\\dashboard\\ProviderView.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\components\\dashboard\\QuickLink.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\components\\dashboard\\ResidentView.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\components\\dashboard\\VoiceReporter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\context\\AuthContext.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":2,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":129,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":129,"endColumn":21,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\context\\ThemeContext.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":2,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":57,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":57,"endColumn":22,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\debug_onboarding.cjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\dist\\assets\\html2canvas.esm-DXEQVQnt.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\dist\\assets\\index-KZEnqSkm.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\dist\\assets\\index.es-GfuIH4Rz.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\dist\\assets\\purify.es-Bzr520pe.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\dist\\assets\\vendor-excel-C2K9OxTh.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\dist\\assets\\vendor-pdf-BjX4EqFU.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\dist\\assets\\vendor-query-OYMwl5zj.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\dist\\assets\\vendor-react-dv0LPap7.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\dist\\assets\\vendor-ui-BNFMfhhT.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\dist\\registerSW.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\dist\\sw.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\dist\\workbox-1d305bb8.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\eslint.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\hooks\\useAdminProperties.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'useQueryClient' is defined but never used.","line":1,"column":33,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":47,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"useQueryClient"},"fix":{"range":[30,46],"text":""},"desc":"Remove unused variable \"useQueryClient\"."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { supabase } from '../lib/supabase';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { PLANS } from '../lib/business-rules';\r\nimport type { PlanType } from '../lib/business-rules';\r\nimport type { Tables } from '../types/database.types';\r\n\r\nexport type AdminProperty = Tables<'properties'>;\r\n\r\nexport const useAdminProperties = () => {\r\n    const { user, propertyId, plan, extraUhCapacity, refreshProfile } = useAuth();\r\n\r\n    const {\r\n        data: properties = [],\r\n        isLoading: loading,\r\n        error: queryError,\r\n        refetch\r\n    } = useQuery({\r\n        queryKey: ['admin_properties', user?.id],\r\n        queryFn: async () => {\r\n            if (!user) return [];\r\n            const { data, error } = await supabase\r\n                .from('properties')\r\n                .select('*')\r\n                .eq('admin_id', user.id)\r\n                .order('created_at', { ascending: true });\r\n\r\n            if (error) throw error;\r\n            return data as AdminProperty[];\r\n        },\r\n        enabled: !!user,\r\n    });\r\n\r\n    const switchMutation = useMutation({\r\n        mutationFn: async (newPropertyId: string) => {\r\n            if (!user) throw new Error('User not authenticated');\r\n            const { error } = await supabase\r\n                .from('profiles')\r\n                .update({ property_id: newPropertyId })\r\n                .eq('id', user.id);\r\n\r\n            if (error) throw error;\r\n            await refreshProfile();\r\n        },\r\n    });\r\n\r\n    // Calculate plan limits\r\n    const planConfig = plan ? PLANS[plan as PlanType] : PLANS.basic;\r\n    const maxUHs = planConfig.maxUHs + (extraUhCapacity || 0);\r\n    const canCreateMore = properties.length < maxUHs;\r\n    const slotsUsed = properties.length;\r\n\r\n    const switchProperty = async (newPropertyId: string) => {\r\n        if (!user || newPropertyId === propertyId) return { success: true };\r\n        try {\r\n            await switchMutation.mutateAsync(newPropertyId);\r\n            return { success: true };\r\n        } catch (err: unknown) {\r\n            const message = err instanceof Error ? err.message : 'Error switching property';\r\n            return { success: false, error: message };\r\n        }\r\n    };\r\n\r\n    const error = queryError instanceof Error ? queryError.message :\r\n        switchMutation.error instanceof Error ? switchMutation.error.message :\r\n            null;\r\n\r\n    const activeProperty = properties.find(p => p.id === propertyId) || null;\r\n\r\n    return {\r\n        properties,\r\n        activeProperty,\r\n        loading: loading || switchMutation.isPending,\r\n        error,\r\n        maxUHs,\r\n        slotsUsed,\r\n        canCreateMore,\r\n        switchProperty,\r\n        refresh: refetch,\r\n    };\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\hooks\\useProperties.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\hooks\\useTickets.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\hooks\\useVoice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\lib\\business-rules.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\lib\\export-utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\lib\\permissions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\lib\\supabase.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\list_profiles.cjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\main.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\pages\\AuthPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\pages\\ConfiguracionPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\pages\\DashboardPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\pages\\LandingPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\pages\\LoginPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\pages\\OnboardingPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\recreate_user.cjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\types\\database.types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\verify-supabase.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'verifyConnection' is defined but never used.","line":4,"column":16,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":32,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'data' is assigned a value but never used.","line":9,"column":17,"nodeType":"Identifier","messageId":"unusedVar","endLine":9,"endColumn":21,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\verify_ph2.cjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\verify_user.cjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\DEV\\GitHub\\Mantty_Host\\src\\vite.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]